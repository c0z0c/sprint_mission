evaluation metric
평가지표를 잘 설정하고 해석하는 것
=AI를 통해서 문제를 해결할 때 제일 중요한 것

좋은 모델, optimizer 등등의 Hyperparameter
-> 해석하기 어려운 영역

문제: 환자 1000명, 암환자 10명, 환자 병리데이터로 암/정상 분류
이진분류에서 여러 지표
정확도 = 맞힌 개수 / 전체 데이터 수
-모든 환자를 정상으로 분류하면 정확도 99%
민감도 = 맞힌 암환자 수 / 전체 암환자 수
-모든 환자를 암이라고하면 민감도 100% -> 이 모델을 아무도 신뢰x, 양치기소년
모든 환자를 암이라고하면 => threshold = 0.0
특이도 = 맞힌 정상환자 수 / 전체 정상환자 수
모든 환자를 정상으로 분류하면 특이도 100%
모든 환자를 정상으로 분류 => 1.0
민감도 ~ 특이도: trade-off

threshold	민감도	특이도
0.0		1.0		0.0
0.2		0.8		0.19
0.5		0.6		0.58
0.8		0.34		0.89
1.0		0.0		1.0

그러면 threshold에 관계없이(=모든 임계치에 대한) 예측모델의 성능을 보고 싶다면?

모든 thr에서 민감도, 특이도가 높게 나오면 좋은거 아닌가?
모든 point 별로 (민감도, 1-특이도)의 plot을 그린 다음 -> 적분
AUROC는 예측한 값들의 "순서"가 중요
AUROC=1.0 

암 10명 전부 1.0 예측, 정상 990명 0.0으로 예측한 상태
=> thr를 어떤 값으로 설정해도, 민감도, 특이도 전부 100%

label		pred
암		0.09
암		0.08
암		0.07
정상		0.05
암		0.03
정상		0.02
암		0.01
정상		0.00000001
.....
암과 정상을 얼마나 순서대로 잘 정렬할 수 있느냐 -> AUROC에서 보는 부분
-예측값의 절대 크기를 중요시하지 않음
-이렇게 순서만 잘 나열하면 예측값은 후처리해서 적절히 그럴싸하게 만들 수 있음.

이 위에 있는 모든 지표는 함정
-모델이 아무리 잘 학습되고 말고를 떠나서, threshold를 잘 설정해야 좋은 값이 나옴.
이 지표들은 전부 0 ~ 1 사이의 임의의 실수를 임계치로 설정해야 계산할 수 있기 때문에 (default=0.5)
당연히 0.5로 준다 = 굉장히 이상한 생각

데이터 특성, 특히나 라벨 불균형으로 인해서 모델의 예측 분포가 매우 치우칠 수 있음.

현실세계 = 불균형 그자체, long tail
head에 있는 major한 데이터는 맞추기 쉬움
tail에 있는 소수의, 희귀 데이터는 어려움

돈, 인기
세상의 모든 돈의 90% -> 상위 0.1%


평가 지표는 데이터, 특히 균형성, 데이터를 통해 풀고하 하는 문제의 맥락을
정말 심도있게 고민해야지 잘 정할 수 있음.
이걸 잘 설정하는 사람이 경쟁력 있는 사람

이진분류같은 매우 단순해 보이는 문제도 고민이 이렇게 필요한데,
요즘 나오는 생성형 AI 기반의 문제들은 평가를 하는 것 자체가 거의 불가능

-요약, 번역 등의 텍스트 작업
-이미지 생성, 스타일 변환 -> 주관성이 강한 작업
-초전문의 영역, 책, 강의로 배울 수 없도 매우 특별하고 유니크한 경험을 오래 한 사람만 직감적으로 알 수 있는 영역
이런 복잡하고, 모호하고, 주관적이고, 직감적인 영역의 문제들을 평가하는 능력
=개인과 기업의 경쟁력

심정지를 예측하는 AI
이걸 평가하는데 AUROC 쓰면 되는거 아니야?
=AUROC가 높으면 좋은 모델, 좋은 AI 아니야?
현재에서 과거를 돌이켜보는 시점에서의 직관. 실제로
현재부터 도입되어서 미래에 어떤 영향을 미칠지 계산하는 방법이 아님.

AUROC 이런거 안봄
전향적 지표
=그래서 병원에서 심정예측모델을 가지고 알람을 발생시켜서
간호사들이 알람을 잘 신뢰해서
알람 울린 환자한테 가서
적극적으로 간호 조치하고, 의사한테 알리고
의사도 믿고 와서 정밀 검진도 해주고 약도 처방해주고
중환자실로 보내주고
이런 매우매우 적극적인 의료적 개입을 유도해서
병원에 심정지 예측모델이 도입되지 전보다
결과적으로 원내에서 심정지가 얼마나 줄어들었는가?

수능시험을 사회탐구만 가지고 보게해서 애들 줄세워서 대학보내면?
어떤 기준으로 평가해야 올바른 평가인지 매우매우 심도있는 고민 필요
프로젝트에서 최우선으로 중요한것
=내가 이 프로젝트에서 어떤 기술적인 고민과 도메인에 대한 고민을 해서
-어떤 평가지표를 설정했고, 그 평가지표가 실제로 이 AI가 현실에서의 유의미한 도움이 되는데 부합하고
그 평가지표를 얼마나 이전대비 상승시켰는지
보여주려는 고민을 하는 것
이거 안하고 모델선별, 하이퍼파라미터 고민하는 것은 하등 쓸모 없음
