<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <meta name="description"
        content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">

    <!-- 캐시 방지 설정 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-control" content="no-cache">
    <meta name="expires" content="0">
    <meta name="pragma" content="no-cache">

    <!-- 동적 캐시 버스팅 -->
    <meta name="cache-buster" content="{{ site.time | date: '%Y%m%d%H%M%S' }}">
    <style>
        /* ===== Base Elements (A-Z) ===== */
        a{color:var(--accent);text-decoration:none;transition:color .2s}
        a:focus-visible{box-shadow:0 0 0 3px var(--accent-soft);border-radius:3px}
        a:hover,a:focus-visible{text-decoration:underline;outline:none}
        blockquote{margin:1.5rem 0;padding:.9rem 1.1rem .9rem 1.15rem;background:linear-gradient(120deg,#0d1117,#141a21);border-left:4px solid var(--accent);border-radius:0 8px 8px 0;color:var(--text-dim)}
        blockquote p:last-child{margin:0}
        code{background:var(--code-bg);color:#ffd866;padding:2px 5px;border:1px solid var(--code-border);border-radius:5px}
        code,pre,kbd{font-family:'JetBrains Mono','Fira Code',Consolas,'Courier New',monospace;font-size:.92em}
        em{color:var(--text-dim)}
        h1{font-size:2.05rem;margin:0 0 1.2rem;padding-bottom:.65rem;border-bottom:1px solid var(--border)}
        h1,h2,h3,h4,h5,h6{font-weight:600;line-height:1.3;color:#fff;scroll-margin-top:90px}
        h2{font-size:1.55rem;margin:2.3rem 0 1rem}
        h3{font-size:1.25rem;margin:1.9rem 0 .9rem;color:var(--accent)}
        li{margin-bottom:.45rem}
        p code,li code{position:relative;top:-1px}
        p,ul,ol,blockquote,table,pre{margin:0 0 1.15rem}
        pre{background:#0f1113;padding:16px 18px;border:1px solid var(--code-border);border-radius:var(--radius-md);overflow-x:auto;line-height:1.55;position:relative}
        pre code{background:transparent;padding:0;border:0;color:#e6edf3;font-size:.9em}
        pre::-webkit-scrollbar{height:10px}
        pre::-webkit-scrollbar-thumb{background:#30363d;border-radius:6px}
        pre::-webkit-scrollbar-thumb:hover{background:#3d444c}
        pre::-webkit-scrollbar-track{background:#050607}
        strong{color:#fff;font-weight:600}
        table{width:100%;border-collapse:collapse;font-size:.92rem}
        tbody tr:hover{background:rgba(58,166,255,0.15)!important;transition:background .2s ease}
        td{border:1px solid var(--border);padding:10px 12px;text-align:left}
        th{background:#0f1418;color:#fff;font-weight:600;border:1px solid var(--border);padding:10px 12px;text-align:left}
        ul,ol{padding-left:1.35rem}

        /* ===== Badges (A-Z) ===== */
        .latest-badge{background:rgba(255,107,107,.18);color:var(--danger)}
        .status-badge{background:rgba(63,185,80,0.18);color:var(--accent-good)}
        .update-badge{background:var(--accent-soft);color:var(--accent);display:inline-block;font-size:.7rem;font-weight:600;letter-spacing:.5px;padding:4px 8px;border-radius:14px;text-transform:uppercase}

        /* ===== Buttons (A-Z) ===== */
        .colab-btn,.file-action,.raw-btn{background:#1f242b;color:var(--text);border:1px solid var(--border);padding:4px 8px;border-radius:var(--radius-sm);font-size:.7rem;text-decoration:none;line-height:1.25;transition:background .25s,border-color .25s}
        .colab-btn:hover,.file-action:hover,.raw-btn:hover{background:var(--panel-alt);border-color:var(--accent);text-decoration:none}

        /* ===== Cards & Panels (A-Z) ===== */
        .feature,.file-item,.highlight,.prep-card,.progress-card,.report-item,.reports-section,.related-link,.section-card,.summary{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius-md)}
        .highlight{border-left:4px solid var(--accent);padding:16px 18px;color:var(--text-dim)}

        /* ===== Empty State (A-Z) ===== */
        .empty-icon{font-size:62px;opacity:.5;margin-bottom:20px}
        .empty-message{padding:70px 20px;background:var(--panel);border:2px dashed var(--border);border-radius:var(--radius-lg);text-align:center}
        .empty-message h3{margin:0 0 8px;font-weight:600;color:var(--text-dim)}
        .empty-message p{margin:0;font-size:.85rem;color:var(--text-faint)}

        /* ===== File Components (A-Z) ===== */
        .file-controls{display:flex;gap:.75rem;margin:0 0 1.1rem;flex-wrap:wrap}
        .file-controls input{background:#0f1418;border:1px solid var(--border);color:var(--text);padding:.55rem .7rem;border-radius:var(--radius-sm)}
        .file-controls input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}
        .file-controls select{background:#0f1418;border:1px solid var(--border);color:var(--text);padding:.55rem .7rem;border-radius:var(--radius-sm)}
        .file-controls select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-soft)}
        .file-date{font-size:.65rem;color:var(--text-faint)}
        .file-ext{color:var(--text-faint);font-size:.75rem;margin-left:.35rem}
        .file-grid{display:grid;gap:.55rem}
        .file-icon{font-size:1.35rem;margin-right:.65rem;color:var(--accent)}
        .file-info{flex:1;min-width:0}
        .file-item{padding:.7rem .85rem;display:flex;align-items:center}
        .file-item:not(.folder-item){border-left:4px solid var(--accent)}
        .file-name{margin:0 0 2px;font-weight:600;font-size:.95rem}
        .file-name a{color:var(--accent);text-decoration:none}
        .file-name a:hover{text-decoration:underline}
        .file-table tbody tr{transition:background .2s ease,border-color .2s ease}
        .file-table tbody tr:hover{background:rgba(58,166,255,0.2)!important;border-color:var(--accent)!important}
        .file-table tbody tr:hover td{border-color:rgba(88,166,255,0.3)}

        /* ===== Folder Components (A-Z) ===== */
        .folder-desc{font-size:.7rem;color:var(--text-faint);background:rgba(255,255,255,.04);padding:2px 6px 3px;border-radius:10px;position:relative;top:-1px}
        .folder-icon{margin-right:6px;font-size:.95rem;filter:saturate(.9)}
        .folder-item{border-left:4px solid var(--accent-warn)}
        .folder-link{position:relative;display:block;margin:0;padding:6px 10px 6px 28px;background:transparent!important;border:0!important;border-radius:6px;line-height:1.28;color:var(--text-dim)!important;font-weight:500;letter-spacing:.2px;transform:none!important;box-shadow:none!important;transition:background .18s,color .2s}
        .folder-link:active{background:var(--tree-active-bg)!important}
        .folder-link:focus-visible{box-shadow:0 0 0 3px var(--accent-soft)}
        .folder-link:hover{background:var(--tree-hover-bg)!important;color:var(--text)!important;text-decoration:none;outline:none}
        .folder-link:hover .folder-desc{color:var(--text-dim);background:rgba(255,255,255,.08)}
        .folder-link::before{content:"";position:absolute;left:8px;top:50%;width:14px;height:1px;background:var(--tree-line);transform:translateY(-50%);opacity:.9}
        .folder-links{--tree-line:#2f353b;--tree-hover-bg:#12181d;--tree-active-bg:#18232c;margin:4px 0 18px;padding:6px 0 6px 18px;position:relative;display:block;font-size:.92rem}
        .folder-links .folder-link:last-child::after{content:"";position:absolute;left:8px;bottom:50%;width:1px;height:50%;background:linear-gradient(var(--tree-line),transparent)}
        .folder-links::before{content:"";position:absolute;left:8px;top:0;bottom:0;width:1px;background:linear-gradient(var(--tree-line),var(--tree-line) 75%,transparent);opacity:.9}
        .folder-name{color:#fff!important;font-weight:600;margin-right:6px}
        .folder-tree{padding:1rem 0}
        .folder-tree-item{margin:.5rem 0;padding-left:1rem;position:relative}
        .folder-tree-item:before{content:"├── ";position:absolute;left:0;color:#666;font-family:monospace}
        .folder-tree-item:last-child:before{content:"└── "}

        /* ===== Footer (A-Z) ===== */
        footer,.navigation-footer,.footer-info{margin-top:42px;padding-top:26px;border-top:1px solid var(--border);text-align:center;color:var(--text-faint);font-size:.8rem}

        /* ===== Navigation (A-Z) ===== */
        .nav-button{display:inline-flex;align-items:center;background:var(--accent-soft);color:#fff;padding:11px 24px;border-radius:var(--radius-md);text-decoration:none;font-weight:600;font-size:.92rem;letter-spacing:.4px;transition:background .25s,transform .25s}
        .nav-button:hover{background:#3690f3;transform:translateY(-2px)}
        .nav-card{padding:18px 20px 20px;position:relative;background:var(--panel);border:1px solid var(--border);border-radius:var(--radius-md);transition:background .25s,border-color .25s,transform .25s;text-decoration:none}
        .nav-card:hover{background:var(--panel-alt);border-color:var(--accent);transform:translateY(-3px);text-decoration:none}
        .nav-card h3{margin:0 0 10px;font-size:1.05rem;color:var(--accent)}
        .nav-card p{margin:0;color:var(--text-dim);font-size:.85rem}
        .nav-icon{margin-right:8px}
        .nav-links{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin:30px 0}

        /* ===== Progress (A-Z) ===== */
        .progress-bar{background:#161b22;height:8px;border-radius:4px;overflow:hidden}
        .progress-card{text-align:center;padding:20px 18px 22px}
        .progress-card.waiting .progress-number{color:#f1c40f}
        .progress-card.working .progress-number{color:#17a2b8}
        .progress-fill{background:var(--accent-good);height:100%;transition:width .4s ease}
        .progress-label{font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:var(--text-faint);margin-bottom:.75rem}
        .progress-number{font-size:2.15rem;font-weight:700;margin:0 0 6px;color:var(--accent-good)}

        /* ===== Progress Fill Variants (A-Z) ===== */
        .waiting-fill{background:linear-gradient(90deg,#f1c40f,#f39c12)}
        .working-fill{background:linear-gradient(90deg,#17a2b8,#20c997)}

        /* ===== Quick Links (A-Z) ===== */
        .quick-links a{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius-md);transition:background .25s,border-color .25s,transform .25s;text-decoration:none}
        .quick-links a:hover{background:var(--panel-alt);border-color:var(--accent);transform:translateY(-3px);text-decoration:none}

        /* ===== Related Links (A-Z) ===== */
        .related-link{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius-md);transition:background .25s,border-color .25s,transform .25s;text-decoration:none}
        .related-link:hover{background:var(--panel-alt);border-color:var(--accent);transform:translateY(-3px);text-decoration:none}

        /* ===== Reports (A-Z) ===== */
        .report-date{color:var(--text-faint);font-size:.7rem}
        .report-link{color:var(--accent);text-decoration:none;font-weight:500}
        .report-link:hover{text-decoration:underline}
        .report-table{width:100%;border-collapse:collapse;margin:18px 0;font-size:.88rem;background:var(--panel);overflow:hidden;border:1px solid var(--border);border-radius:var(--radius-md)}
        .report-table tbody tr{transition:background .2s ease}
        .report-table td{padding:11px 15px;border-top:1px solid var(--border-soft)}
        .report-table th{background:#10161b;color:var(--accent);padding:14px 15px;text-align:left}
        .report-table tr:hover td{background:rgba(58,166,255,0.15)!important}
        .reports-section{padding:20px 22px;border-left:4px solid var(--accent)}

        /* ===== Summary (A-Z) ===== */
        .summary{padding:20px 22px;border-left:4px solid var(--accent)}
        .summary h3{margin:0 0 12px;color:var(--accent)}

        /* ===== Responsive Media Queries ===== */
        @media (max-width:880px){
            body{padding:16px 16px 34px}
            .container{padding:28px 26px 38px}
            h1{font-size:1.8rem}
        }
        @media (max-width:640px){
            .folder-desc{display:inline-block;margin-top:2px}
            .folder-link{padding:6px 8px 6px 24px;font-size:.88rem}
            .folder-links{padding-left:14px}
            h1{font-size:1.55rem}
            h2{font-size:1.35rem}
            h3{font-size:1.15rem}
            .nav-bar a{margin:0 4px;padding:6px 10px;font-size:.82rem}
        }
    </style>

    <style>.mermaid{width:100%;max-width:1400px;margin:0 auto 30px;font-size:24px}.mermaid svg{width:100%!important;height:700px!important;display:block}.mermaid.diagram-large svg{height:1000px!important}</style>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- mermaid: preload + single script + style + init -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js" as="script">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js" defer></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            try {
                // fenced mermaid 코드블록을 div.mermaid로 교체
                document.querySelectorAll('pre > code.language-mermaid, pre > code.lang-mermaid').forEach(function (code) {
                    var pre = code.parentElement;
                    var mermaidDiv = document.createElement('div');
                    mermaidDiv.className = 'mermaid';
                    // info string에 large가 있으면 클래스 추가
                    var info = (code.getAttribute('data-info') || '') + ' ' + (code.className || '');
                    if (/\blarge\b/.test(info)) mermaidDiv.classList.add('diagram-large');
                    mermaidDiv.textContent = code.textContent;
                    pre.parentNode.replaceChild(mermaidDiv, pre);
                });

                if (window.mermaid) {
                    mermaid.initialize({
                        startOnLoad: false,
                        securityLevel: 'loose',
                        flowchart: {
                            useMaxWidth: true,
                            nodeSpacing: 60,
                            rankSpacing: 120
                        },
                        theme: 'neutral',
                        themeVariables: { fontSize: '24px' }
                    });
                    mermaid.init(undefined, document.querySelectorAll('.mermaid'));
                }
            } catch (e) {
                console.error('mermaid init error:', e);
            }
        });
    </script>

    <script>
        var branch = "master";
        {% include site_info.html %}
    </script>

</head>

<body>
    <div class="main-wrapper">
        <div class="container">
            <div class="nav-bar">
                <a href="{{ site.baseurl }}/">🏠 홈</a>
                <a href="{{ site.baseurl }}/스터디/">‍🏫 스터디</a>
                <a href="{{ site.baseurl }}/스프린트미션_완료/">✅ 완료된 미션</a>
                <a href="{{ site.baseurl }}/스프린트미션_작업중/">🚧 작업중</a>
                <a href="{{ site.baseurl }}/위클리페이퍼/">📰 위클리페이퍼</a>
            </div>
            {{ content }}
        </div> <!-- .container -->
    </div> <!-- .main-wrapper -->
</body>

</html>