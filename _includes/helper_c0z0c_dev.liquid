{% comment %} 현재 페이지의 디렉토리 경로를 가져온다 {% endcomment %} 

{% assign all_files = site.static_files %}
{% assign all_pages = site.all_pages_json %}

{% assign cur_file_dir = cur_dir %}
{% assign cur_page_dir = page.dir %}

{% if cur_file_dir == nil or cur_file_dir == "" %}
  {% assign cur_dirs = "" %}
  {% assign cur_files = "" %}
{% else %}

  {% comment %} 현재 폴더만 {% endcomment %}
  {% comment %}
  {% assign cur_dir = "/스프린트미션_완료/" %}

    page
      "title": "스프린트미션_완료 - 완료된 미션 보관함",
      "url": "/%EC%8A%A4%ED%94%84%EB%A6%B0%ED%8A%B8%EB%AF%B8%EC%85%98_%EC%99%84%EB%A3%8C/",
      "path": "스프린트미션_완료/index.md",
      "dir": "/%EC%8A%A4%ED%94%84%EB%A6%B0%ED%8A%B8%EB%AF%B8%EC%85%98_%EC%99%84%EB%A3%8C/",
      "name": "index.md",
  
  all_files
      "name": "Grad-CAM_정상.png",
      "path": "/스프린트미션_완료/image/06_4팀_김명환/Grad-CAM_정상.png",
      "extname": ".png",
      "modified_time": "2025-08-24 12:11:59 +0900",
      "basename": "Grad-CAM_정상",
      "url": ""

  {% endcomment %}

  {% comment %} 현재 폴더 파일만 {% endcomment %}
  {% assign cur_files = "" %}
  {% for f in all_files %}
    {% assign f_deep = f.path | split "/" %}
    {% if f.dir | slice: 0, cur_file_dir | size == cur_file_dir %}
      {% assign cur_files = cur_files | push: f %}
    {% endif %}
  {% endfor %}

  {% comment %} 현재 폴더 페이지만 {% endcomment %}
  {% assign cur_pages = "" %}
  {% for f in all_pages %}
    {% assign f_deep = f.path | split "/" %}
    {% if f.dir | slice: 0, cur_page_dir | size == cur_page_dir %}
      {% assign cur_pages = cur_pages | push: f %}
    {% endif %}
  {% endfor %}


  {% comment %} 현재 폴더 파일 JSON {% endcomment %}
  {% capture cur_files_json %}
  [
  {% for f in cur_files %}
    {
      "name": {{ f.name | jsonify }},
      "path": {{ f.path | jsonify }},
      "extname": {{ f.extname | jsonify }},
      "modified_time": {{ f.modified_time | jsonify }},
      "basename": {{ f.basename | default: "" | jsonify }},
      "url": {{ f.url | default: "" | jsonify }}
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
  ]
  {% endcapture %}


  {% comment %} 현재 폴더 페이지 JSON {% endcomment %}
  {% capture cur_pages_json %}
  [
  {% for p in cur_pages %}
    {
      "title": {{ p.title | jsonify }},
      "url": {{ p.url | jsonify }},
      "path": {{ p.path | jsonify }},
      "dir": {{ p.dir | jsonify }},
      "name": {{ p.name | default: "" | jsonify }},
      "layout": {{ p.layout | default: "" | jsonify }},
      "date": {{ p.date | default: "" | jsonify }},
      "excerpt": {{ p.excerpt | default: "" | jsonify }},
      "categories": {{ p.categories | default: "" | jsonify }},
      "tags": {{ p.tags | default: "" | jsonify }}
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
  ]
  {% endcapture %}


  {% comment %}

  site.title : 사이트 제목 (_config.yml에서 설정)
  site.description : 사이트 설명
  site.url : 사이트 기본 URL
  site.baseurl : 서브디렉터리 배포 시 base URL
  site.github : GitHub Pages 관련 정보 (자동 생성)
  site.time : 빌드 시각
  site.posts : 모든 게시글(_posts 폴더)의 배열
  site.pages : 모든 페이지(.md, .html 등)의 배열
  site.static_files : 모든 정적 파일(이미지, PDF, zip 등)의 배열
  site.data : _data 폴더의 데이터
  site.collections : 모든 컬렉션 정보
  site.documents : 모든 컬렉션 문서
  site.categories : 모든 카테고리별 게시글
  site.tags : 모든 태그별 게시글
  site.config : 전체 config 값

  page.title : 페이지 제목 (Front Matter에서 설정)
  page.url : 페이지의 URL 경로
  page.path : 파일 시스템상의 경로
  page.dir : 파일이 위치한 디렉토리
  page.name : 파일 이름
  page.layout : 사용된 레이아웃 이름
  page.date : 게시 날짜(게시글일 경우)
  page.content : 페이지의 실제 내용(HTML로 변환됨)
  page.excerpt : 요약(게시글일 경우)
  page.categories, page.tags : 카테고리/태그(게시글일 경우

  {% endcomment %}

{% endif %}